<!doctype html>
<html lang="pt-PT">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Aviator K4</title>
<style>
:root{
  --bg:#000;
  --red:#ff1f1f;
  --text:#f2f2f2;
  --notif-bg:rgba(255,0,0,0.2);
  --gold:#FFD700;
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Inter',Arial,Helvetica,sans-serif;
  background:radial-gradient(circle at center,#000 0%,#090909 100%);
  color:var(--text);
  display:flex;
  align-items:center;
  justify-content:center;
  height:100vh;
}
.card{
  text-align:center;
  background:#0b0b0b;
  padding:30px 15px;
  border-radius:20px;
  box-shadow:0 0 30px rgba(255,0,0,0.15);
  border:2px solid #111;
  width:380px;
  max-width:95vw;
  position:relative;
}
h1{
  font-size:26px;
  margin-bottom:10px;
  color:#fff;
  letter-spacing:1px;
}
p{
  color:#ccc;
  font-size:14px;
  margin-bottom:18px;
}
.logos{
  display:flex;
  overflow-x:auto;
  gap:12px;
  padding:10px 0;
  scrollbar-width:none;
  margin-bottom:20px;
  scroll-behavior:smooth;
}
.logos::-webkit-scrollbar{display:none}
.logo{
  flex:0 0 auto;
  width:90px;
  height:90px;
  border-radius:14px;
  background:#111;
  border:2px solid rgba(255,0,0,0.3);
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  transition:all .25s ease;
  cursor:pointer;
  box-shadow:0 0 10px rgba(0,0,0,0.5);
}
.logo img{
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:12px;
}
.logo:hover{transform:scale(1.05);}
.logo.active{
  border-color:var(--red);
  box-shadow:0 0 20px rgba(255,0,0,0.4);
  transform:scale(1.07);
}
.orb{
  display:flex;
  justify-content:center;
  align-items:center;
  margin-bottom:10px;
}
.btn{
  width:220px;
  height:220px;
  border-radius:50%;
  font-size:20px;
  font-weight:700;
  color:var(--text);
  background:radial-gradient(circle at 30% 30%, #2b0000, #000);
  border:6px solid var(--red);
  box-shadow:0 0 30px rgba(255,0,0,0.3);
  cursor:pointer;
  transition:transform .2s ease, box-shadow .2s ease, opacity .2s ease;
  opacity:0.6;
}
.btn.enabled{
  opacity:1;
  cursor:pointer;
}
.btn:active{
  transform:scale(0.97);
  box-shadow:0 0 10px rgba(255,0,0,0.5);
}
@keyframes girar {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.btn.rotating {
  animation: girar 1s linear infinite;
}
@keyframes goldGlow {
  0%,100% { color: #FFD700; text-shadow: 0 0 8px #FFD700, 0 0 12px #FFA500; }
  50% { color: #FFA500; text-shadow: 0 0 4px #FFD700, 0 0 6px #FFA500; }
}
.signal.gold{
  animation: goldGlow 1.5s infinite ease-in-out;
}
.signals{
  margin-top:15px;
  font-size:14px;
}
.signal{
  margin:8px 0;
  padding:10px;
  background:rgba(255,255,255,0.03);
  border:1px solid rgba(255,0,0,0.2);
  border-radius:10px;
  font-weight:500;
}
.small{
  margin-top:10px;
  font-size:12px;
  color:#aaa;
}
.notif{
  position:absolute;
  top:-50px; /* ajustado acima do título */
  left:50%;
  transform:translateX(-50%);
  padding:8px 12px;
  background:var(--notif-bg);
  color:#fff;
  border-radius:8px;
  font-size:13px;
  opacity:0;
  pointer-events:none;
  transition:opacity .3s ease;
  z-index:10;
}
.notif.show{
  opacity:1;
}
#countdown{
  margin-top:12px;
  font-size:16px;
  font-weight:600;
  color:#ff4f4f;
}
</style>
</head>
<body>
<div class="card">
<div class="notif" id="notification"></div>

<h1>Aviator K4</h1>
<p>Escolha a casa e gere sinais</p>

<div class="logos" id="logoContainer">
  <div class="logo" data-name="888bet"><img src="https://i.postimg.cc/Zqw3sQ2n/FB-IMG-17618243826611224.jpg" alt="888bet"></div>
  <div class="logo" data-name="Elephant Bet"><img src="https://i.postimg.cc/Y9JR297x/FB-IMG-17618244169634389.jpg" alt="Elephant Bet"></div>
  <div class="logo" data-name="Betway"><img src="https://i.postimg.cc/JhsjyLpC/FB-IMG-17618244499101218.jpg" alt="Betway"></div>
  <div class="logo" data-name="Megagamelive"><img src="https://i.postimg.cc/yxsJT4XG/FB-IMG-17618244776964795.jpg" alt="Megagamelive"></div>
  <div class="logo" data-name="Betyetu"><img src="https://i.postimg.cc/XYRY86nQ/FB-IMG-17618245242019131.jpg" alt="Betyetu"></div>
  <div class="logo" data-name="Olabet"><img src="https://i.postimg.cc/0Q8xW8FX/FB-IMG-17618245523634533.jpg" alt="Olabet"></div>
</div>

<div class="orb">
  <button id="generateBtn" class="btn enabled">Gerar<br>Sinais</button>
</div>

<div id="countdown"></div>
<div id="signalsList" class="signals"></div>
<div class="small">BOT NATIVE K4.</div>

<script>
const btn = document.getElementById('generateBtn');
const signalsList = document.getElementById('signalsList');
const logos = document.querySelectorAll('.logo');
const notif = document.getElementById('notification');
const countdownEl = document.getElementById('countdown');

let plataformaSelecionada = null;
let sinaisAtivos = null;
let countdownInterval = null;

function showNotification(msg){
  notif.textContent = msg;
  notif.classList.add('show');
  setTimeout(()=>notif.classList.remove('show'),2500);
}

function centerLogo(logo){
  const container = document.getElementById('logoContainer');
  const offset = logo.offsetLeft + logo.offsetWidth/2 - container.offsetWidth/2;
  container.scrollTo({left: offset, behavior:'smooth'});
}

function loadSinais(){
  const saved = JSON.parse(localStorage.getItem('aviatorSinais'));
  if(saved && saved.plataforma && saved.sinais && saved.ultimo){
    const now = new Date().getTime() + 2*3600000;
    if(now < saved.ultimo){
      plataformaSelecionada = saved.plataforma;
      logos.forEach(l=>{
        if(l.getAttribute('data-name') === plataformaSelecionada){
          l.classList.add('active');
          logos.forEach(ll=>{if(ll!==l) ll.style.display='none';});
          centerLogo(l);
        }
      });
      sinaisAtivos = saved.sinais.map(t=>new Date(t));
      renderSinais();
      startCountdown();
      btn.classList.remove('enabled');
    } else {
      localStorage.removeItem('aviatorSinais');
    }
  }
}

function renderSinais(){
  signalsList.innerHTML = '';
  sinaisAtivos.forEach(t=>{
    const h = String(t.getHours()).padStart(2,'0');
    const m = String(t.getMinutes()).padStart(2,'0');
    const s = String(t.getSeconds()).padStart(2,'0');
    const el = document.createElement('div');
    el.className = 'signal gold';
    el.textContent = `Sinal: ${h}:${m}:${s}`;
    signalsList.appendChild(el);
  });
}

function startCountdown(){
  clearInterval(countdownInterval);
  countdownInterval = setInterval(()=>{
    const now = new Date().getTime() + 2*3600000;
    const ultimo = Math.max(...sinaisAtivos.map(d=>d.getTime()));
    let diff = Math.max(0, Math.ceil((ultimo - now)/1000));
    let min = String(Math.floor(diff/60)).padStart(2,'0');
    let sec = String(diff%60).padStart(2,'0');
    countdownEl.textContent = `Próximo sinal em: ${min}:${sec}`;
    if(diff<=0){
      clearInterval(countdownInterval);
      countdownEl.textContent='';
      sinaisAtivos=null;
      localStorage.removeItem('aviatorSinais');
      btn.classList.add('enabled');
      showNotification("ENTRE NA CASA E AGUARDE,NÃO GERE NOVOS SINAIS ATE FAZER AS ENTRADAS");
    }
  },500);
}

logos.forEach(logo=>{
  logo.addEventListener('click',()=>{
    logos.forEach(l=>l.classList.remove('active'));
    logo.classList.add('active');
    plataformaSelecionada = logo.getAttribute('data-name');
    logos.forEach(l=>{if(l!==logo) l.style.display='none';});
    centerLogo(logo);
    if(!sinaisAtivos) btn.classList.add('enabled');
    showNotification(`Casa selecionada: ${plataformaSelecionada}`);
  });
});

function gerarSinais(){
  btn.classList.add('rotating');

  signalsList.innerHTML='';
  countdownEl.textContent='';

  const now = new Date();
  const utc = now.getTime() + now.getTimezoneOffset() * 60000;
  const mzTime = new Date(utc + 2*3600000);

  sinaisAtivos=[];
  let lastTime = mzTime.getTime();

  for(let i=0;i<2;i++){
    let addMin = Math.floor(Math.random()*3)+3;
    let addSec = Math.floor(Math.random()*60);
    let temp = new Date(lastTime + addMin*60000 + addSec*1000);
    if(temp.getTime() - mzTime.getTime() > 10*60000){
      temp = new Date(mzTime.getTime() + 10*60000 - Math.floor(Math.random()*3000));
    }
    sinaisAtivos.push(temp);
    lastTime=temp.getTime();
  }

  setTimeout(()=>{
    renderSinais();
    const ultimo = Math.max(...sinaisAtivos.map(d=>d.getTime()));
    localStorage.setItem('aviatorSinais', JSON.stringify({
      plataforma: plataformaSelecionada,
      sinais: sinaisAtivos.map(d=>d.getTime()),
      ultimo: ultimo
    }));

    btn.classList.remove('enabled');
    btn.classList.remove('rotating');
    startCountdown();

    try{
      const ctx = new (window.AudioContext || window.webkitAudioContext)();
      const osc = ctx.createOscillator();
      const gain = ctx.createGain();
      osc.frequency.value=420;
      gain.gain.value=0.03;
      osc.connect(gain);
      gain.connect(ctx.destination);
      osc.start();
      setTimeout(()=>{osc.stop();ctx.close();},120);
    }catch(e){}
  },1500);
}

btn.addEventListener('click', ()=>{
  if(!plataformaSelecionada){
    showNotification("Selecione uma casa antes de gerar os sinais");
    return;
  }
  if(!sinaisAtivos) gerarSinais();
});

window.addEventListener('load', loadSinais);
</script>
</body>
</html>
